##
## Travis
## https://travis-ci.com/
## https://travis-ci.com/rotators/foclassic/
##

os: linux
sudo: required
notifications:
 email: false

git:
 depth: false

language: cpp
env:
 - GXX=6
 - GXX=5
 - GXX=4.9
 - GXX=4.8

matrix:
 allow_failures:
  - GXX=4.9
  - GXX=4.8

cache:
 apt: true
 directories:
  - SDK.Cache

before_install:
 - export CC=gcc-${GXX} CXX=g++-${GXX}
 - sudo add-apt-repository --yes ppa:ubuntu-toolchain-r/test
 - sudo apt-get update
 - sudo apt-get install -qq ${CXX}-multilib
 - sudo apt-get install     libx11-dev:i386 libxft-dev:i386 libxi-dev:i386 libxinerama-dev:i386 libgl1-mesa-dev:i386 libglu1-mesa-dev:i386 freeglut3-dev:i386 libfreetype6-dev:i386 libfontconfig-dev:i386 libpng-dev:i386

install:
 - export PATH=SDK.Cache/cmake/bin:$PATH
 - cmake -P CMake/SelfUpdate.cmake && hash -r

script:
 - cmake -P Build.cmake
